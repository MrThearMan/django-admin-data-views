{% extends "admin/base_site.html" %}
{% load i18n static admin_data_utils %}

{% block extrastyle %}
  {{ block.super }}
  <link rel="stylesheet" type="text/css" href="{% static "admin/css/forms.css" %}">
  <style>
  @media (min-width: 895px) {
      .adv-dict-label {
          float: none!important;
      }
  }
  </style>
{% endblock %}

{% block coltype %}colM{% endblock %}

{% block bodyclass %}{{ block.super }} app-{{ app_label }} change-list{% endblock %}

{% if not is_popup %}
{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% translate 'Home' %}</a>
&rsaquo; <a href="{% url 'admin:admin-data-index-view' %}">{{ app_label|capfirst }}</a>
{% if category_slug %}
&rsaquo; <a href="{{ category_url }}">{{ category_slug|capfirst }}</a>
{% endif %}
&rsaquo; {{ slug|capfirst }}
</div>
{% endblock %}
{% endif %}

{% block content %}
  <div id="content-main">
    <form method="post" novalidate>{% csrf_token %}
      <div>
      {% if image %}
        <img src="{{ image }}" alt="" style="max-width: 470px; padding-bottom: 10px">
      {% endif %}
      {% for section in data %}
        <fieldset class="module aligned">
          {% if section.name %}
          <h2>{{ section.name }}</h2>
          {% endif %}
          {% if section.description %}
          <div class="description">{{ section.description|safe }}</div>
          {% endif %}
          {% for key, value in section.fields.items %}
          <div class="form-row">
            {% if value|get_type == "dict" %}
            {% include 'admin_data_views/dict_item.html' with label=key items=value only %}
            {% elif value|get_type == "list" %}
            {% include 'admin_data_views/list_item.html' with label=key items=value only %}
            {% else %}
            <div class="fieldBox">
              <label class="required">{{ key|capfirst }}</label>
              {% include 'admin_data_views/item.html' with value=value only %}
            </div>
            {% endif %}
            <br>
          </div>
          {% endfor %}
        </fieldset>
      {% endfor %}
      </div>
    </form>
  </div>
{% endblock %}
